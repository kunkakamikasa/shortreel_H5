import{d as S,r as c,c as u}from"./vendor-58c6cfac.js";import{a as m}from"./index-39f83a15.js";const H=S("drama",()=>{const i=c([]),p=c([]),h=c([]),f=c([]),t=c(null),d=c(null),l=c([]),n=c(!1),C=u(()=>e=>i.value.find(r=>r.id===e)),D=u(()=>e=>i.value.filter(r=>r.categoryId===e)),w=u(()=>{var e;return t.value&&((e=t.value.episodes)==null?void 0:e.length)||0}),I=async(e={})=>{n.value=!0;try{const r=[{id:1,title:"Love in Paris",description:"A romantic story set in the city of love",category:"Romance",episodeCount:12,coverImage:"https://via.placeholder.com/300x200/667eea/ffffff?text=Love+in+Paris"},{id:2,title:"The Wedding Planner",description:"When love meets professional ambition",category:"Romance",episodeCount:8,coverImage:"https://via.placeholder.com/300x200/764ba2/ffffff?text=Wedding+Planner"},{id:3,title:"City Dreams",description:"A young woman pursues her dreams in the big city",category:"Drama",episodeCount:10,coverImage:"https://via.placeholder.com/300x200/f093fb/ffffff?text=City+Dreams"}];return i.value=r,{success:!0,dramas:r}}catch(r){return console.error("Failed to fetch dramas:",r),{success:!1,error:"Failed to fetch dramas"}}finally{n.value=!1}},g=async()=>{try{const e=[{id:1,name:"Strong Heroine",icon:"Star",dramaCount:28},{id:2,name:"Comeback Story",icon:"Zap",dramaCount:22},{id:3,name:"Toxic Love",icon:"Heart",dramaCount:18},{id:4,name:"Sweet Romance",icon:"Heart",dramaCount:25},{id:5,name:"Hidden Identity",icon:"Users",dramaCount:20},{id:6,name:"Love at First Sight",icon:"Globe",dramaCount:15}];return p.value=e,{success:!0,categories:e}}catch(e){return console.error("Failed to fetch categories:",e),{success:!1,error:"Failed to fetch categories"}}},v=async()=>{try{const e=[{id:1,title:"Ex-Convict Nanny & Billionaire Single Dad",description:"A heartwarming story of redemption and unexpected love",category:"Romance",episodeCount:12,coverImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop&crop=center"},{id:2,title:"The Divorced Wife is a Genius Surgeon",description:"Professional success meets personal transformation",category:"Drama",episodeCount:15,coverImage:"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=300&h=200&fit=crop&crop=center"},{id:3,title:"Where the Light Enters",description:"Finding hope in the darkest moments",category:"Romance",episodeCount:10,coverImage:"https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=300&h=200&fit=crop&crop=center"},{id:4,title:"The Beast on Her Leash",description:"A thrilling romance with unexpected twists",category:"Thriller",episodeCount:8,coverImage:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=300&h=200&fit=crop&crop=center"},{id:5,title:"Queen Mom Rules",description:"Power and family dynamics collide",category:"Drama",episodeCount:12,coverImage:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=300&h=200&fit=crop&crop=center"},{id:6,title:"Rewritten Vows",description:"Second chances at love and happiness",category:"Romance",episodeCount:10,coverImage:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=200&fit=crop&crop=center"}];return h.value=e,{success:!0,dramas:e}}catch(e){return console.error("Failed to fetch featured dramas:",e),{success:!1,error:"Failed to fetch featured dramas"}}},y=async()=>{try{const e=[{id:7,title:"The Genius and the Bad Boy",description:"When two hot brothers go after plus size Sophie",category:"Young Adult",episodeCount:8,coverImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop&crop=center"},{id:8,title:"Yellowstone: King of Montana",description:"Hidden identity and legendary power",category:"Comeback Story",episodeCount:12,coverImage:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=300&h=200&fit=crop&crop=center"},{id:9,title:"Daisy Tucker and Mr. NYC",description:"Flash marriage leads to unexpected love",category:"Sweet Romance",episodeCount:10,coverImage:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=200&fit=crop&crop=center"}];return f.value=e,{success:!0,dramas:e}}catch(e){return console.error("Failed to fetch trending dramas:",e),{success:!1,error:"Failed to fetch trending dramas"}}};return{dramas:i,categories:p,featuredDramas:h,trendingDramas:f,currentDrama:t,currentEpisode:d,searchResults:l,isLoading:n,dramaById:C,dramasByCategory:D,totalEpisodes:w,fetchDramas:I,fetchCategories:g,fetchFeaturedDramas:v,fetchTrendingDramas:y,fetchDramaById:async e=>{var r,a;try{const o=await m.get(`/dramas/${e}`);return t.value=o.data,{success:!0,drama:o.data}}catch(o){return console.error("Failed to fetch drama:",o),{success:!1,error:((a=(r=o.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch drama"}}},fetchEpisode:async(e,r)=>{var a,o;try{const s=await m.get(`/dramas/${e}/episodes/${r}`);return d.value=s.data,{success:!0,episode:s.data}}catch(s){return console.error("Failed to fetch episode:",s),{success:!1,error:((o=(a=s.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to fetch episode"}}},searchDramas:async(e,r={})=>{var a,o;n.value=!0;try{const s=await m.get("/dramas/search",{params:{q:e,...r}});return l.value=s.data,{success:!0,results:s.data}}catch(s){return console.error("Search failed:",s),{success:!1,error:((o=(a=s.response)==null?void 0:a.data)==null?void 0:o.message)||"Search failed"}}finally{n.value=!1}},getNextEpisode:e=>{if(!t.value||!t.value.episodes)return null;const r=t.value.episodes.findIndex(a=>a.id===e);return r===-1||r===t.value.episodes.length-1?null:t.value.episodes[r+1]},getPreviousEpisode:e=>{if(!t.value||!t.value.episodes)return null;const r=t.value.episodes.findIndex(a=>a.id===e);return r<=0?null:t.value.episodes[r-1]},clearCurrentDrama:()=>{t.value=null,d.value=null},clearSearchResults:()=>{l.value=[]},initializeDramaStore:async()=>{try{await Promise.all([g(),v(),y()])}catch(e){console.error("Failed to initialize drama store:",e)}}}});export{H as u};
