import{w as T,r as m,c as W,o as R,e as j,f as n,g as l,n as s,i as u,D as V,F as C,p as P,x as c,s as y,q as S,z as _,A as h,m as B,B as f,u as i,y as J,E as O}from"./vendor-58c6cfac.js";import{b as Q,u as G}from"./index-39f83a15.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{c as g,d as X,L as Z,e as ss,f as es}from"./ui-3c6eacc9.js";const as={class:"subscription-page"},ts={class:"navbar"},os={class:"navbar-container"},ns={class:"navbar-brand"},ls={class:"navbar-actions"},is={class:"main-content"},rs={class:"plans-section"},cs={class:"plans-grid"},ds=["onClick"],us={class:"plan-header"},ps={key:0,class:"popular-badge"},vs={class:"plan-name"},ms={class:"plan-price"},ys={class:"amount"},fs={class:"period"},bs={class:"plan-description"},_s={class:"plan-features"},hs={class:"plan-actions"},gs=["onClick"],ws={key:0,class:"payment-section"},xs={class:"payment-methods"},Cs={class:"payment-tabs"},Ps={key:0,class:"card-payment"},Ss={class:"card-form"},ks={class:"form-row"},Ms={class:"form-group"},qs={class:"card-input-container"},Ds={class:"form-row"},Is={class:"form-group"},Vs={class:"form-group"},Bs={class:"form-group"},Fs={key:1,class:"paypal-payment"},zs={key:1,class:"order-summary"},Ys={class:"summary-content"},Ns={class:"summary-row"},Es={class:"summary-value"},As={class:"summary-row"},Hs={class:"summary-value"},$s={class:"summary-row"},Ls={class:"summary-value"},Us={class:"summary-row total"},Ts={class:"summary-value"},Ws={class:"summary-actions"},Rs=["disabled"],js={key:1},Js={class:"security-section"},Os={class:"security-content"},Qs={class:"security-icon"},Gs={class:"security-info"},Ks={class:"security-features"},Xs={class:"security-feature"},Zs={class:"security-feature"},se={class:"security-feature"},ee={class:"faq-section"},ae={class:"faq-list"},te=["onClick"],oe={class:"faq-answer"},ne={__name:"Subscription",setup(le){const k=T(),p=Q(),F=G(),r=m(null),d=m("card"),w=m(0),o=m({number:"",expiry:"",cvv:"",name:""}),z=m([{question:"Can I cancel my subscription anytime?",answer:"Yes, you can cancel your subscription at any time. Your access will continue until the end of your current billing period."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal for secure payments."},{question:"Is there a free trial available?",answer:"Yes, we offer a 7-day free trial for new subscribers. You can cancel anytime during the trial period."},{question:"Can I change my plan later?",answer:"Absolutely! You can upgrade or downgrade your plan at any time. Changes will take effect at your next billing cycle."},{question:"Is my payment information secure?",answer:"Yes, we use industry-standard SSL encryption and are PCI DSS compliant to ensure your payment information is secure."}]),M=W(()=>r.value?d.value==="card"?o.value.number&&o.value.expiry&&o.value.cvv&&o.value.name:!0:!1),q=t=>{r.value=t},Y=()=>d.value==="card"?"Credit/Debit Card":"PayPal",N=t=>{let e=t.target.value.replace(/\D/g,"");e=e.replace(/(\d{4})/g,"$1 ").trim(),o.value.number=e},E=t=>{let e=t.target.value.replace(/\D/g,"");e.length>=2&&(e=e.slice(0,2)+"/"+e.slice(2)),o.value.expiry=e},A=t=>{let e=t.target.value.replace(/\D/g,"");o.value.cvv=e},H=t=>{w.value=w.value===t?null:t},$=async()=>{if(M.value)try{let t;if(d.value==="card"?t=await L():t=await U(),t.success){const e=await p.createSubscription(r.value.id,t.paymentMethodId);if(e.success)k.push("/subscription-success");else throw new Error(e.error)}else throw new Error(t.error)}catch(t){console.error("Subscription failed:",t),alert("Subscription failed: "+t.message)}},L=async()=>new Promise(t=>{setTimeout(()=>{t({success:!0,paymentMethodId:"card_"+Date.now()})},2e3)}),U=async()=>new Promise(t=>{setTimeout(()=>{t({success:!0,paymentMethodId:"paypal_"+Date.now()})},2e3)});return R(async()=>{if(F.isLoggedIn&&p.hasActiveSubscription){k.push("/");return}await p.initializePayment()}),(t,e)=>{const D=j("router-link");return n(),l("div",as,[s("nav",ts,[s("div",os,[s("div",ns,[u(D,{to:"/",class:"logo-link"},{default:V(()=>[...e[6]||(e[6]=[s("h1",{class:"logo"},"ShortFilm",-1)])]),_:1})]),s("div",ls,[u(D,{to:"/",class:"btn btn-outline btn-sm"},{default:V(()=>[...e[7]||(e[7]=[S("Back to Home",-1)])]),_:1})])])]),s("main",is,[e[29]||(e[29]=s("div",{class:"page-header"},[s("h1",{class:"page-title"},"Choose Your Plan"),s("p",{class:"page-subtitle"},"Unlock unlimited access to premium short dramas")],-1)),s("section",rs,[s("div",cs,[(n(!0),l(C,null,P(c(p).availablePlans,a=>{var v,x,I;return n(),l("div",{key:a.id,class:y(["plan-card",{"plan-popular":a.isPopular,"plan-selected":((v=r.value)==null?void 0:v.id)===a.id}]),onClick:b=>q(a)},[s("div",us,[a.isPopular?(n(),l("div",ps,"Most Popular")):f("",!0),s("h3",vs,i(a.name),1),s("div",ms,[e[8]||(e[8]=s("span",{class:"currency"},"$",-1)),s("span",ys,i(a.price),1),s("span",fs,"/"+i(a.period),1)]),s("p",bs,i(a.description),1)]),s("div",_s,[(n(!0),l(C,null,P(a.features,b=>(n(),l("div",{key:b,class:"feature-item"},[u(c(g),{class:"feature-icon"}),s("span",null,i(b),1)]))),128))]),s("div",hs,[s("button",{class:y(["btn",((x=r.value)==null?void 0:x.id)===a.id?"btn-primary":"btn-outline"]),onClick:O(b=>q(a),["stop"])},i(((I=r.value)==null?void 0:I.id)===a.id?"Selected":"Choose Plan"),11,gs)])],10,ds)}),128))])]),r.value?(n(),l("section",ws,[e[17]||(e[17]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"Payment Method"),s("p",{class:"section-subtitle"},"Select your preferred payment method")],-1)),s("div",xs,[s("div",Cs,[s("button",{class:y(["payment-tab",{active:d.value==="card"}]),onClick:e[0]||(e[0]=a=>d.value="card")},[u(c(X),{class:"tab-icon"}),e[9]||(e[9]=S(" Credit/Debit Card ",-1))],2),s("button",{class:y(["payment-tab",{active:d.value==="paypal"}]),onClick:e[1]||(e[1]=a=>d.value="paypal")},[...e[10]||(e[10]=[s("svg",{class:"paypal-icon",viewBox:"0 0 24 24"},[s("path",{fill:"#003087",d:"M20.067 8.478c.492 0 .889.373.889.889 0 .491-.397.884-.889.884H18.8c-.491 0-.889-.393-.889-.884 0-.516.398-.889.889-.889h1.267z"}),s("path",{fill:"#009cde",d:"M20.067 8.478c.492 0 .889.373.889.889 0 .491-.397.884-.889.884H18.8c-.491 0-.889-.393-.889-.884 0-.516.398-.889.889-.889h1.267z"}),s("path",{fill:"#012169",d:"M20.067 8.478c.492 0 .889.373.889.889 0 .491-.397.884-.889.884H18.8c-.491 0-.889-.393-.889-.884 0-.516.398-.889.889-.889h1.267z"})],-1),S(" PayPal ",-1)])],2)]),d.value==="card"?(n(),l("div",Ps,[s("div",Ss,[s("div",ks,[s("div",Ms,[e[12]||(e[12]=s("label",{class:"form-label"},"Card Number",-1)),s("div",qs,[_(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.number=a),type:"text",class:"input card-input",placeholder:"1234 5678 9012 3456",maxlength:"19",onInput:N},null,544),[[h,o.value.number]]),e[11]||(e[11]=B('<div class="card-icons" data-v-a6f4a2eb><svg class="card-icon" viewBox="0 0 24 24" fill="none" data-v-a6f4a2eb><rect x="2" y="2" width="20" height="14" rx="2" fill="#1A1F71" data-v-a6f4a2eb></rect><path d="M9 8h6v8H9z" fill="#F7B600" data-v-a6f4a2eb></path><text x="12" y="14" text-anchor="middle" fill="#1A1F71" font-size="8" font-weight="bold" data-v-a6f4a2eb>VISA</text></svg><svg class="card-icon" viewBox="0 0 24 24" fill="none" data-v-a6f4a2eb><rect x="2" y="2" width="20" height="14" rx="2" fill="#FF5F00" data-v-a6f4a2eb></rect><circle cx="8" cy="9" r="3" fill="#EB001B" data-v-a6f4a2eb></circle><circle cx="16" cy="9" r="3" fill="#F79E1B" data-v-a6f4a2eb></circle></svg></div>',1))])])]),s("div",Ds,[s("div",Is,[e[13]||(e[13]=s("label",{class:"form-label"},"Expiry Date",-1)),_(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.expiry=a),type:"text",class:"input",placeholder:"MM/YY",maxlength:"5",onInput:E},null,544),[[h,o.value.expiry]])]),s("div",Vs,[e[14]||(e[14]=s("label",{class:"form-label"},"CVV",-1)),_(s("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.cvv=a),type:"text",class:"input",placeholder:"123",maxlength:"4",onInput:A},null,544),[[h,o.value.cvv]])])]),s("div",Bs,[e[15]||(e[15]=s("label",{class:"form-label"},"Cardholder Name",-1)),_(s("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.name=a),type:"text",class:"input",placeholder:"John Doe"},null,512),[[h,o.value.name]])])])])):f("",!0),d.value==="paypal"?(n(),l("div",Fs,[...e[16]||(e[16]=[B('<div class="paypal-info" data-v-a6f4a2eb><div class="paypal-logo" data-v-a6f4a2eb><svg viewBox="0 0 24 24" class="paypal-logo-svg" data-v-a6f4a2eb><path fill="#003087" d="M20.067 8.478c.492 0 .889.373.889.889 0 .491-.397.884-.889.884H18.8c-.491 0-.889-.393-.889-.884 0-.516.398-.889.889-.889h1.267z" data-v-a6f4a2eb></path><path fill="#009cde" d="M20.067 8.478c.492 0 .889.373.889.889 0 .491-.397.884-.889.884H18.8c-.491 0-.889-.393-.889-.884 0-.516.398-.889.889-.889h1.267z" data-v-a6f4a2eb></path><path fill="#012169" d="M20.067 8.478c.492 0 .889.373.889.889 0 .491-.397.884-.889.884H18.8c-.491 0-.889-.393-.889-.884 0-.516.398-.889.889-.889h1.267z" data-v-a6f4a2eb></path></svg></div><p class="paypal-description" data-v-a6f4a2eb> You will be redirected to PayPal to complete your payment securely. </p></div>',1)])])):f("",!0)])])):f("",!0),r.value?(n(),l("section",zs,[e[22]||(e[22]=s("div",{class:"summary-header"},[s("h3",{class:"summary-title"},"Order Summary")],-1)),s("div",Ys,[s("div",Ns,[e[18]||(e[18]=s("span",{class:"summary-label"},"Plan:",-1)),s("span",Es,i(r.value.name),1)]),s("div",As,[e[19]||(e[19]=s("span",{class:"summary-label"},"Duration:",-1)),s("span",Hs,i(r.value.period),1)]),s("div",$s,[e[20]||(e[20]=s("span",{class:"summary-label"},"Payment Method:",-1)),s("span",Ls,i(Y()),1)]),s("div",Us,[e[21]||(e[21]=s("span",{class:"summary-label"},"Total:",-1)),s("span",Ts,"$"+i(r.value.price),1)])]),s("div",Ws,[s("button",{class:"btn btn-primary btn-lg subscribe-button",disabled:!M.value||c(p).isProcessing,onClick:$},[c(p).isProcessing?(n(),J(c(Z),{key:0,class:"icon-sm spin"})):(n(),l("span",js,"Subscribe Now"))],8,Rs)])])):f("",!0),s("section",Js,[s("div",Os,[s("div",Qs,[u(c(ss),{class:"icon-lg"})]),s("div",Gs,[e[26]||(e[26]=s("h3",{class:"security-title"},"Secure Payment",-1)),e[27]||(e[27]=s("p",{class:"security-description"}," Your payment information is encrypted and secure. We use industry-standard SSL encryption to protect your data. ",-1)),s("div",Ks,[s("div",Xs,[u(c(g),{class:"feature-icon"}),e[23]||(e[23]=s("span",null,"256-bit SSL encryption",-1))]),s("div",Zs,[u(c(g),{class:"feature-icon"}),e[24]||(e[24]=s("span",null,"PCI DSS compliant",-1))]),s("div",se,[u(c(g),{class:"feature-icon"}),e[25]||(e[25]=s("span",null,"Secure payment processing",-1))])])])])]),s("section",ee,[e[28]||(e[28]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"Frequently Asked Questions")],-1)),s("div",ae,[(n(!0),l(C,null,P(z.value,(a,v)=>(n(),l("div",{key:v,class:y(["faq-item",{expanded:w.value===v}])},[s("button",{class:"faq-question",onClick:x=>H(v)},[s("span",null,i(a.question),1),u(c(es),{class:"faq-icon"})],8,te),s("div",oe,[s("p",null,i(a.answer),1)])],2))),128))])])])])}}},ue=K(ne,[["__scopeId","data-v-a6f4a2eb"]]);export{ue as default};
